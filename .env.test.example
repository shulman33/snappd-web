# =============================================================================
# Test Environment Configuration
# =============================================================================
# Copy this file to `.env.test` for running integration tests
# IMPORTANT: Never commit `.env.test` to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Base URL for the running test server
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment (should be 'test' for testing)
NODE_ENV=test

# -----------------------------------------------------------------------------
# Supabase Configuration (Test Project)
# -----------------------------------------------------------------------------
# IMPORTANT: Use a dedicated TEST Supabase project, NOT your production project
# Integration tests will create and delete data - don't risk production data!

# Test project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-test-project.supabase.co

# Test project anonymous key
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-test-anon-key-here

# Test project service role key (for cleanup operations)
SUPABASE_SERVICE_ROLE_KEY=your-test-service-role-key-here

# -----------------------------------------------------------------------------
# Stripe Configuration (Test Mode)
# -----------------------------------------------------------------------------
# Use Stripe test keys only
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-test-publishable-key
STRIPE_SECRET_KEY=sk_test_your-test-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-test-webhook-secret

# Test price IDs
STRIPE_PRICE_ID_PRO_MONTHLY=price_test_pro_monthly
STRIPE_PRICE_ID_PRO_YEARLY=price_test_pro_yearly
STRIPE_PRICE_ID_TEAM_MONTHLY=price_test_team_monthly
STRIPE_PRICE_ID_TEAM_YEARLY=price_test_team_yearly

# -----------------------------------------------------------------------------
# Rate Limiting (Optional - for testing rate limit scenarios)
# -----------------------------------------------------------------------------
# Upstash Redis for rate limiting (use test database)
UPSTASH_REDIS_REST_URL=your-test-upstash-redis-url
UPSTASH_REDIS_REST_TOKEN=your-test-upstash-redis-token

# -----------------------------------------------------------------------------
# Testing Configuration
# -----------------------------------------------------------------------------
# Skip email sending during tests (recommended)
SKIP_EMAIL_SENDING=true

# Enable detailed logging during tests
DEBUG=true

# Test timeout (milliseconds)
TEST_TIMEOUT=30000

# =============================================================================
# Setup Instructions
# =============================================================================
#
# 1. Create a dedicated Supabase test project:
#    - Go to https://supabase.com/dashboard
#    - Create a new project named "snappd-test" or similar
#    - Run all migrations on the test project
#    - Copy the URL and keys to this file
#
# 2. Create Stripe test products:
#    - Go to https://dashboard.stripe.com/test/products
#    - Create test products for Pro and Team plans
#    - Copy the price IDs to this file
#
# 3. Start your Next.js development server:
#    npm run dev
#
# 4. Run the integration tests:
#    npm run test:integration
#
# =============================================================================
